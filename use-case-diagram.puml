@startuml Use Case Diagram - Chatii System
!theme plain
skinparam packageStyle rectangle
skinparam usecase {
    BackgroundColor<<Module1>> LightGreen
    BackgroundColor<<Module2>> LightYellow
    BackgroundColor<<Module3>> LightPink
    BackgroundColor<<Module4>> LightBlue
    BackgroundColor<<Module5>> LightCyan
    BackgroundColor<<Module6>> LightMagenta
}

' ============================================
' Module 1: User Management Module
' ============================================
package "Module 1: User Management" <<Module1>> {
    actor "User" as User1
    usecase "UC-001: Manage User Account\n(FR-001, FR-002, FR-003)" as UC001
    
    User1 --> UC001
}

' ============================================
' Module 2: Persona Repository Module
' ============================================
package "Module 2: Persona Repository" <<Module2>> {
    actor "Admin" as Admin2
    actor "User" as User2
    usecase "UC-002: Manage Personas\n(FR-004)" as UC002_2
    usecase "UC-003: Export Persona Configuration\n(FR-005)" as UC003_2
    
    Admin2 --> UC002_2
    User2 --> UC003_2
}

' ============================================
' Module 3: Interaction & Conversation Engine
' ============================================
package "Module 3: Interaction & Conversation Engine" <<Module3>> {
    actor "User" as User3
    usecase "UC-004: Interact with Chatbot Persona\n(FR-006, FR-007, FR-008, FR-009, FR-010, FR-011)" as UC004
    
    User3 --> UC004
}

' ============================================
' Module 4: Training Session Module
' ============================================
package "Module 4: Training Session" <<Module4>> {
    actor "User" as User4
    usecase "UC-005: Participate in Training Session\n(FR-012, FR-013, FR-014)" as UC005
    
    User4 --> UC005
}

' ============================================
' Module 5: Feedback & Continuous Learning
' ============================================
package "Module 5: Feedback & Continuous Learning" <<Module5>> {
    actor "User" as User5
    actor "Time" as Time5
    usecase "UC-006: Provide Feedback\n(FR-015, FR-017)" as UC006
    usecase "UC-007: Store and Aggregate Feedback Data\n(FR-016)" as UC007
    usecase "UC-008: Fine-tune Personas from Feedback\n(FR-018)" as UC008
    
    User5 --> UC006
    UC006 ..> UC007 : <<include>>
    Time5 --> UC008
}

' ============================================
' Module 6: Admin Management & Analytics
' ============================================
package "Module 6: Admin Management & Analytics" <<Module6>> {
    actor "Admin" as Admin6
    usecase "UC-009: Admin Log In\n(FR-019)" as UC009
    usecase "UC-010: View Analytics and Reports\n(FR-020, FR-022)" as UC010
    usecase "UC-011: Log User Interactions\n(FR-021)" as UC011
    
    Admin6 --> UC009
    Admin6 --> UC010
    UC004 ..> UC011 : <<include>>
    UC005 ..> UC011 : <<include>>
    UC006 ..> UC011 : <<include>>
}

note right of UC001
  Covers: FR-001, FR-002, FR-003
  Priority: High (FR-001, FR-002), Medium (FR-003)
  Source: Core
end note

note right of UC002_2
  Covers: FR-004
  Priority: High
  Source: Collaborator
end note

note right of UC003_2
  Covers: FR-005
  Priority: High
  Source: Survey
end note

note right of UC004
  Covers: FR-006, FR-007, FR-008, FR-009, FR-010, FR-011
  Priority: High (FR-006, FR-008, FR-009), Medium (FR-010), Low (FR-007, FR-011)
  Source: Core, Survey, Collaborator
end note

note right of UC005
  Covers: FR-012, FR-013, FR-014
  Priority: High (FR-013, FR-014), Medium (FR-012)
  Source: Collaborator
end note

note right of UC006
  Covers: FR-015, FR-017
  Priority: High
  Source: Collaborator, Survey
end note


note right of UC009
  Covers: FR-019
  Priority: High
  Source: Core
end note

note right of UC010
  Covers: FR-020, FR-022
  Priority: Medium
  Source: Core, Collaborator
end note

note right of UC011
  Covers: FR-021
  Priority: Low
  Source: Core
  Note: Automatically triggered by user interactions
  (included by UC-004, UC-005, UC-006)
end note

note right of UC007
  Covers: FR-016
  Priority: High
  Source: Collaborator
  Note: Automatically triggered when feedback is provided
end note

note right of UC008
  Covers: FR-018
  Priority: Low
  Source: Collaborator
  Note: Periodically triggered by Time actor
end note

@enduml
